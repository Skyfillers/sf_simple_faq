{namespace sFaq=SKYFILLERS\SfSimpleFaq\ViewHelpers}

<f:if condition="{faqs}">
    <f:then>
        <ul class="faq-list">
            <f:for each="{faqs}" as="faq">
                <li>
                    <f:if condition="{settings.showAnswersInListView}">
                        <f:then>
                            <sFaq:HighlightSearchword searchtext="{searchtext}">{faq.question}</sFaq:HighlightSearchword>
                            <ul>
                                <li>
                                    <f:format.raw><sFaq:HighlightSearchword searchtext="{searchtext}" crop="30">{faq.answer}</sFaq:HighlightSearchword></f:format.raw>
                                </li>
                            </ul>
                        </f:then>
                        <f:else>
                            <f:link.action action="detail" controller="Faq" pageUid="{settings.detailPageUid}" arguments="{faq: faq, selectedCategories: selectedCategories}">{faq.question}</f:link.action>
                        </f:else>
                    </f:if>
                </li>
            </f:for>
        </ul>
    </f:then>
    <f:else>
        <f:if condition="{searchtext}">
            <p class="faq-noresults"><f:translate key="tx_sfsimplefaq_domain_model_faq.noresults"/>"{searchtext}".</p>
        </f:if>
    </f:else>
</f:if>